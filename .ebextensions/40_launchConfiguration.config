##############################################
#### Do not modify values below this line ####
##############################################
option_settings:
  ## Use the custom security group for the instances
  aws:autoscaling:launchconfiguration:
    EC2KeyName: "eb-cli"
    InstanceType: "t2-micro"
    SecurityGroups: '`{ "Ref" : "nodesrsg" }`'

Resources:
  ## Custom restricted security group for node
  nodesrsg:
    Type: AWS::EC2::SecurityGroup
    Properties:
      GroupDescription: Nodes security group
      VpcId: 
        Fn::GetOptionSetting: {OptionName: VPCId}
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 1
          ToPort: 65000
          CidrIp: "0.0.0.0/0"
      SecurityGroupEgress:
        - IpProtocol: tcp
          FromPort: 1
          ToPort: 65000
          CidrIp: "0.0.0.0/0"
